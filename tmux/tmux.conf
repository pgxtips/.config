# Set the prefix to Ctrl-a
set -g prefix C-a

# Unbind the default prefix key
unbind C-b

# Send the prefix key
bind C-a send-prefix

# Switch between windows using jkl
bind -n C-j select-window -t 0
bind -n C-k select-window -t 1
bind -n C-l select-window -t 2

# set tmux to Vi mode
set-window-option -g mode-keys vi

# unbind k and j in vi mode to prevent page up and page down
unbind -T copy-mode-vi j
unbind -T copy-mode-vi k

# scroll up/down with j/k
bind-key -T copy-mode-vi C-u send-keys -X page-up
bind-key -T copy-mode-vi C-d send-keys -X page-down
# scroll up/down with j/k by cursor 
bind-key -T copy-mode-vi k send-keys -X cursor-up
bind-key -T copy-mode-vi j send-keys -X cursor-down
# v for selection y for yanking
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection

bind -r f run-shell 'tmux neww ~/.config/scripts/tmux-sessionizer.sh'

bind c new-window -c "#{pane_current_path}"

# List of plugins
# allows session to persist after reboot
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'

# Plugin Settings
set -g @dracula-show-left-icon session 
set -g status-position top 

run '~/.tmux/plugins/tpm/tpm'
run-shell "~/.tmux/plugins/tmux-resurrect/scripts/restore.sh"
